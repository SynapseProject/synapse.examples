Name: TestRCA
Description: Test RemoteCommand Handler
IsActive: true
Actions:
- Name: Hostname
  Handler:
    Type: Synapse.Handlers.CommandLine:ScriptHandler
    Config:
      Type: Yaml
      Values:
        RunOn: localhost
        WorkingDirectory: C:\Temp
        Type: Powershell
        Args : -ExecutionPolicy Bypass
        TimeoutMills: 5000
        TimeoutStatus: CompletedWithErrors
        KillRemoteProcessOnTimeout: true
        ValidExitCodes:
        - "EqualTo 42 Complete"
  Parameters:
    Type: Unspecified
    Values: |
      hostname
      whoami
      sleep -s 30
      exit 42
